"use strict";(()=>{let t={EventDispatcher:function(){}};t.EventDispatcher.prototype={constructor:t.EventDispatcher,apply(i){i.addEventListener=t.EventDispatcher.prototype.addEventListener,i.hasEventListener=t.EventDispatcher.prototype.hasEventListener,i.removeEventListener=t.EventDispatcher.prototype.removeEventListener,i.dispatchEvent=t.EventDispatcher.prototype.dispatchEvent},addEventListener(t,i){null==this._listeners&&(this._listeners={});let o=this._listeners;null==o[t]&&(o[t]=[]),o[t].includes(i)||o[t].push(i)},removeEventListener(t,i){let o=this._listeners[t];if(null!=o){let t=o.indexOf(i);-1!=t&&o.splice(t,1)}},dispatchEvent:(()=>{let t=[];return function(i){if(null==this._listeners)return;let o=this._listeners[i.type];if(null!=o)for(let e=0,n=o.length;n>e;e++)t[e]=o[e],t[e].call(this,i)}})()},t.Math={PI2:2*Math.PI,degToRad:t=>.0174532925*t,radToDeg:t=>57.2957795*t},t.Quaternion=function(t=0,i=0,o=0,e=1){this._x=t,this._y=i,this._z=o,this._w=e},t.Quaternion.prototype={constructor:t.Quaternion,_x:0,_y:0,_z:0,_w:0,_euler:void 0,_updateEuler(){null!=this._euler&&this._euler.setFromQuaternion(this,void 0,0)},get x(){return this._x},get y(){return this._y},get z(){return this._z},get w(){return this._w},setFromEuler(t){let i=Math.cos(t._x/2),o=Math.cos(t._y/2),e=Math.cos(t._z/2),n=Math.sin(t._x/2),s=Math.sin(t._y/2),a=Math.sin(t._z/2);return this._x=n*o*e+i*s*a,this._y=i*s*e-n*o*a,this._z=i*o*a+n*s*e,this._w=i*o*e-n*s*a,this},setFromRotationMatrix(t){let i,o=t.elements,e=o[0],n=o[4],s=o[8],a=o[1],r=o[5],y=o[9],c=o[2],p=o[6],h=o[10],x=e+r+h;return x>0?(i=.5/Math.sqrt(x+1),this._w=.25/i,this._x=(p-y)*i,this._y=(s-c)*i,this._z=(a-n)*i):e>r&&e>h?(i=2*Math.sqrt(1+e-r-h),this._w=(p-y)/i,this._x=.25*i,this._y=(n+a)/i,this._z=(s+c)/i):r>h?(i=2*Math.sqrt(1+r-e-h),this._w=(s-c)/i,this._x=(n+a)/i,this._y=.25*i,this._z=(y+p)/i):(i=2*Math.sqrt(1+h-e-r),this._w=(a-n)/i,this._x=(s+c)/i,this._y=(y+p)/i,this._z=.25*i),this._updateEuler(),this}},t.Vector3=function(t=0,i=0,o=0){this.x=t,this.y=i,this.z=o},t.Vector3.prototype={constructor:t.Vector3,set(t,i,o){return this.x=t,this.y=i,this.z=o,this},copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add({x:t,y:i,z:o}){return this.x+=t,this.y+=i,this.z+=o,this},sub({x:t,y:i,z:o}){return this.x-=t,this.y-=i,this.z-=o,this},subVectors(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this},multiply({x:t,y:i,z:o}){return this.x*=t,this.y*=i,this.z*=o,this},multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this},applyMatrix4(t){let i=this.x,o=this.y,e=this.z,n=t.elements;return this.x=n[0]*i+n[4]*o+n[8]*e+n[12],this.y=n[1]*i+n[5]*o+n[9]*e+n[13],this.z=n[2]*i+n[6]*o+n[10]*e+n[14],this},applyProjection(t){let i=this.x,o=this.y,e=this.z,n=t.elements,s=1/(n[3]*i+n[7]*o+n[11]*e+n[15]);return this.x=(n[0]*i+n[4]*o+n[8]*e+n[12])*s,this.y=(n[1]*i+n[5]*o+n[9]*e+n[13])*s,this.z=(n[2]*i+n[6]*o+n[10]*e+n[14])*s,this},transformDirection(t){let i=this.x,o=this.y,e=this.z,n=t.elements;return this.x=n[0]*i+n[4]*o+n[8]*e,this.y=n[1]*i+n[5]*o+n[9]*e,this.z=n[2]*i+n[6]*o+n[10]*e,this.normalize(),this},divideScalar(t){let i=1/t;return this.x*=i,this.y*=i,this.z*=i,this},negate(){return this.multiplyScalar(-1)},dot(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z},length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize(){return this.divideScalar(this.length())},crossVectors(t,i){let o=t.x,e=t.y,n=t.z,s=i.x,a=i.y,r=i.z;return this.x=e*r-n*a,this.y=n*s-o*r,this.z=o*a-e*s,this},distanceTo(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared(t){let i=this.x-t.x,o=this.y-t.y,e=this.z-t.z;return i*i+o*o+e*e},setFromMatrixPosition(t){return this.x=t.elements[12],this.y=t.elements[13],this.z=t.elements[14],this},setFromMatrixScale(t){let i=this.set(t.elements[0],t.elements[1],t.elements[2]).length(),o=this.set(t.elements[4],t.elements[5],t.elements[6]).length(),e=this.set(t.elements[8],t.elements[9],t.elements[10]).length();return this.x=i,this.y=o,this.z=e,this},equals(t){return t.x==this.x&&t.y==this.y&&t.z==this.z},clone(){return new t.Vector3(this.x,this.y,this.z)}},t.Box3=function(i=new t.Vector3(1/0,1/0,1/0),o=new t.Vector3(-1/0,-1/0,-1/0)){this.min=i,this.max=o},t.Sphere=function(i=new t.Vector3,o=0){this.center=i,this.radius=o},t.Euler=function(i=0,o=0,e=0,n=t.Euler.DefaultOrder){this._x=i,this._y=o,this._z=e,this._order=n},t.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],t.Euler.DefaultOrder="XYZ",t.Euler.prototype={constructor:t.Euler,_x:0,_y:0,_z:0,_order:t.Euler.DefaultOrder,_quaternion:void 0,_updateQuaternion(){null!=this._quaternion&&this._quaternion.setFromEuler(this)},get x(){return this._x},set x(t){this._x=t,this._updateQuaternion()},get y(){return this._y},set y(t){this._y=t,this._updateQuaternion()},get z(){return this._z},set z(t){this._z=t,this._updateQuaternion()},get order(){return this._order},set(t,i,o,e){return this._x=t,this._y=i,this._z=o,this._order=e||this._order,this._updateQuaternion(),this},setFromQuaternion(t,i,o){let e=t.x*t.x,n=t.y*t.y,s=t.z*t.z,a=t.w*t.w;var r;return"XYZ"==(i=i||this._order)&&(this._x=Math.atan2(2*(t.x*t.w-t.y*t.z),a-e-n+s),this._y=Math.asin((r=2*(t.x*t.z+t.y*t.w),Math.min(Math.max(r,-1),1))),this._z=Math.atan2(2*(t.z*t.w-t.x*t.y),a+e-n-s)),this._order=i,0!=o&&this._updateQuaternion(),this}},t.Matrix4=function(t=1,i=0,o=0,e=0,n=0,s=1,a=0,r=0,y=0,c=0,p=1,h=0,x=0,z=0,l=0,u=1){this.elements=new Float32Array(16);let d=this.elements;d[0]=t,d[4]=i,d[8]=o,d[12]=e,d[1]=n,d[5]=s,d[9]=a,d[13]=r,d[2]=y,d[6]=c,d[10]=p,d[14]=h,d[3]=x,d[7]=z,d[11]=l,d[15]=u},t.Matrix4.prototype={constructor:t.Matrix4,set(t,i,o,e,n,s,a,r,y,c,p,h,x,z,l,u){let d=this.elements;return d[0]=t,d[4]=i,d[8]=o,d[12]=e,d[1]=n,d[5]=s,d[9]=a,d[13]=r,d[2]=y,d[6]=c,d[10]=p,d[14]=h,d[3]=x,d[7]=z,d[11]=l,d[15]=u,this},copy(t){return this.elements.set(t.elements),this},extractRotation:(()=>{let i=new t.Vector3;return function(t){let o=this.elements,e=t.elements,n=1/i.set(e[0],e[1],e[2]).length(),s=1/i.set(e[4],e[5],e[6]).length(),a=1/i.set(e[8],e[9],e[10]).length();return o[0]=e[0]*n,o[1]=e[1]*n,o[2]=e[2]*n,o[4]=e[4]*s,o[5]=e[5]*s,o[6]=e[6]*s,o[8]=e[8]*a,o[9]=e[9]*a,o[10]=e[10]*a,this}})(),makeRotationFromEuler(t){let i=this.elements,o=t.x,e=t.y,n=t.z,s=Math.cos(o),a=Math.sin(o),r=Math.cos(e),y=Math.sin(e),c=Math.cos(n),p=Math.sin(n);if("XYZ"==t.order){let t=s*c,o=s*p,e=a*c,n=a*p;i[0]=r*c,i[4]=-r*p,i[8]=y,i[1]=o+e*y,i[5]=t-n*y,i[9]=-a*r,i[2]=n-t*y,i[6]=e+o*y,i[10]=s*r}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this},makeRotationFromQuaternion(t){let i=this.elements,o=t.x,e=t.y,n=t.z,s=t.w,a=o+o,r=e+e,y=n+n,c=o*a,p=o*r,h=o*y,x=e*r,z=e*y,l=n*y,u=s*a,d=s*r,m=s*y;return i[0]=1-(x+l),i[4]=p-m,i[8]=h+d,i[1]=p+m,i[5]=1-(c+l),i[9]=z-u,i[2]=h-d,i[6]=z+u,i[10]=1-(c+x),i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this},lookAt:(()=>{let i=new t.Vector3,o=new t.Vector3,e=new t.Vector3;return function(t,n,s){let a=this.elements;return e.subVectors(t,n).normalize(),i.crossVectors(s,e).normalize(),o.crossVectors(e,i),a[0]=i.x,a[4]=o.x,a[8]=e.x,a[1]=i.y,a[5]=o.y,a[9]=e.y,a[2]=i.z,a[6]=o.z,a[10]=e.z,this}})(),multiplyMatrices(t,i){let o=t.elements,e=i.elements,n=this.elements,s=o[0],a=o[4],r=o[8],y=o[12],c=o[1],p=o[5],h=o[9],x=o[13],z=o[2],l=o[6],u=o[10],d=o[14],m=o[3],w=o[7],g=o[11],f=o[15],b=e[0],v=e[4],M=e[8],D=e[12],E=e[1],_=e[5],C=e[9],T=e[13],S=e[2],k=e[6],O=e[10],L=e[14],R=e[3],j=e[7],P=e[11],V=e[15];return n[0]=s*b+a*E+r*S+y*R,n[4]=s*v+a*_+r*k+y*j,n[8]=s*M+a*C+r*O+y*P,n[12]=s*D+a*T+r*L+y*V,n[1]=c*b+p*E+h*S+x*R,n[5]=c*v+p*_+h*k+x*j,n[9]=c*M+p*C+h*O+x*P,n[13]=c*D+p*T+h*L+x*V,n[2]=z*b+l*E+u*S+d*R,n[6]=z*v+l*_+u*k+d*j,n[10]=z*M+l*C+u*O+d*P,n[14]=z*D+l*T+u*L+d*V,n[3]=m*b+w*E+g*S+f*R,n[7]=m*v+w*_+g*k+f*j,n[11]=m*M+w*C+g*O+f*P,n[15]=m*D+w*T+g*L+f*V,this},multiplyScalar(t){let i=this.elements;return i[0]*=t,i[4]*=t,i[8]*=t,i[12]*=t,i[1]*=t,i[5]*=t,i[9]*=t,i[13]*=t,i[2]*=t,i[6]*=t,i[10]*=t,i[14]*=t,i[3]*=t,i[7]*=t,i[11]*=t,i[15]*=t,this},determinant(){let t=this.elements,i=t[0],o=t[4],e=t[8],n=t[12],s=t[1],a=t[5],r=t[9],y=t[13],c=t[2],p=t[6],h=t[10],x=t[14];return t[3]*(+n*r*p-e*y*p-n*a*h+o*y*h+e*a*x-o*r*x)+t[7]*(+i*r*x-i*y*h+n*s*h-e*s*x+e*y*c-n*r*c)+t[11]*(+i*y*p-i*a*x-n*s*p+o*s*x+n*a*c-o*y*c)+t[15]*(-e*a*c-i*r*p+i*a*h+e*s*p-o*s*h+o*r*c)},setPosition(t){let i=this.elements;return i[12]=t.x,i[13]=t.y,i[14]=t.z,this},getInverse(t){let i=this.elements,o=t.elements,e=o[0],n=o[4],s=o[8],a=o[12],r=o[1],y=o[5],c=o[9],p=o[13],h=o[2],x=o[6],z=o[10],l=o[14],u=o[3],d=o[7],m=o[11],w=o[15];i[0]=c*l*d-p*z*d+p*x*m-y*l*m-c*x*w+y*z*w,i[4]=a*z*d-s*l*d-a*x*m+n*l*m+s*x*w-n*z*w,i[8]=s*p*d-a*c*d+a*y*m-n*p*m-s*y*w+n*c*w,i[12]=a*c*x-s*p*x-a*y*z+n*p*z+s*y*l-n*c*l,i[1]=p*z*u-c*l*u-p*h*m+r*l*m+c*h*w-r*z*w,i[5]=s*l*u-a*z*u+a*h*m-e*l*m-s*h*w+e*z*w,i[9]=a*c*u-s*p*u-a*r*m+e*p*m+s*r*w-e*c*w,i[13]=s*p*h-a*c*h+a*r*z-e*p*z-s*r*l+e*c*l,i[2]=y*l*u-p*x*u+p*h*d-r*l*d-y*h*w+r*x*w,i[6]=a*x*u-n*l*u-a*h*d+e*l*d+n*h*w-e*x*w,i[10]=n*p*u-a*y*u+a*r*d-e*p*d-n*r*w+e*y*w,i[14]=a*y*h-n*p*h-a*r*x+e*p*x+n*r*l-e*y*l,i[3]=c*x*u-y*z*u-c*h*d+r*z*d+y*h*m-r*x*m,i[7]=n*z*u-s*x*u+s*h*d-e*z*d-n*h*m+e*x*m,i[11]=s*y*u-n*c*u-s*r*d+e*c*d+n*r*m-e*y*m,i[15]=n*c*h-s*y*h+s*r*x-e*c*x-n*r*z+e*y*z;let g=e*i[0]+r*i[4]+h*i[8]+u*i[12];return this.multiplyScalar(1/g),this},scale(t){let i=this.elements,o=t.x,e=t.y,n=t.z;return i[0]*=o,i[4]*=e,i[8]*=n,i[1]*=o,i[5]*=e,i[9]*=n,i[2]*=o,i[6]*=e,i[10]*=n,i[3]*=o,i[7]*=e,i[11]*=n,this},makeTranslation(t,i,o){return this.set(1,0,0,t,0,1,0,i,0,0,1,o,0,0,0,1),this},makeRotationAxis(t,i){let o=Math.cos(i),e=Math.sin(i),n=1-o,s=t.x,a=t.y,r=t.z,y=n*s,c=n*a;return this.set(y*s+o,y*a-e*r,y*r+e*a,0,y*a+e*r,c*a+o,c*r-e*s,0,y*r-e*a,c*r+e*s,n*r*r+o,0,0,0,0,1),this},compose(t,i,o){return this.makeRotationFromQuaternion(i),this.scale(o),this.setPosition(t),this},decompose:(()=>{let i=new t.Vector3,o=new t.Matrix4;return function(t,e,n){let s=this.elements,a=i.set(s[0],s[1],s[2]).length(),r=i.set(s[4],s[5],s[6]).length(),y=i.set(s[8],s[9],s[10]).length();0>this.determinant()&&(a=-a),t.x=s[12],t.y=s[13],t.z=s[14],o.elements.set(this.elements);let c=1/a,p=1/r,h=1/y;return o.elements[0]*=c,o.elements[1]*=c,o.elements[2]*=c,o.elements[4]*=p,o.elements[5]*=p,o.elements[6]*=p,o.elements[8]*=h,o.elements[9]*=h,o.elements[10]*=h,e.setFromRotationMatrix(o),n.x=a,n.y=r,n.z=y,this}})(),makeFrustum(t,i,o,e,n,s){let a=this.elements,r=2*n/(i-t),y=2*n/(e-o),c=(i+t)/(i-t),p=(e+o)/(e-o),h=-(s+n)/(s-n),x=-2*s*n/(s-n);return a[0]=r,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=y,a[9]=p,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=x,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective(i,o,e,n){let s=e*Math.tan(t.Math.degToRad(.5*i)),a=-s,r=a*o,y=s*o;return this.makeFrustum(r,y,a,s,e,n)}},t.Object3D=function(){this.id=t.Object3DIdCount++,this.name="",this.parent=void 0,this.children=[],this.up=new t.Vector3(0,1,0),this.position=new t.Vector3,this._rotation=new t.Euler,this._quaternion=new t.Quaternion,this.scale=new t.Vector3(1,1,1),this._rotation._quaternion=this.quaternion,this._quaternion._euler=this.rotation,this.renderDepth=null,this.rotationAutoUpdate=1,this.matrix=new t.Matrix4,this.matrixWorld=new t.Matrix4,this.matrixAutoUpdate=1,this.matrixWorldNeedsUpdate=1,this.visible=1,this.castShadow=0,this.receiveShadow=0,this.frustumCulled=1,this.userData={}},t.Object3D.prototype={constructor:t.Object3D,get rotation(){return this._rotation},get quaternion(){return this._quaternion},lookAt:(()=>{let i=new t.Matrix4;return function(t){i.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(i)}})(),add(i){if(i instanceof t.Object3D){i.parent=this,i.dispatchEvent({type:"added"}),this.children.push(i);let t=this;for(;null!=t.parent;)t=t.parent}},updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=1},updateMatrixWorld(t){1==this.matrixAutoUpdate&&this.updateMatrix(),1!=this.matrixWorldNeedsUpdate&&1!=t||(null==this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=0,t=1);for(let i=0,o=this.children.length;o>i;i++)this.children[i].updateMatrixWorld(t)}},t.EventDispatcher.prototype.apply(t.Object3D.prototype),t.Object3DIdCount=0,t.Camera=function(){t.Object3D.call(this),this.matrixWorldInverse=new t.Matrix4,this.projectionMatrix=new t.Matrix4},t.Camera.prototype=Object.create(t.Object3D.prototype),t.PerspectiveCamera=function(i=50,o=1,e=.1,n=2e3){t.Camera.call(this),this.fov=i,this.aspect=o,this.near=e,this.far=n,this.updateProjectionMatrix()},t.PerspectiveCamera.prototype=Object.create(t.Camera.prototype),t.PerspectiveCamera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)},t.Ray=function(i=new t.Vector3,o=new t.Vector3){this.origin=i,this.direction=o},t.Ray.prototype={constructor:t.Ray,set(t,i){return this.origin.copy(t),this.direction.copy(i),this},at(i,o){return(o||new t.Vector3).copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:(()=>{let i=new t.Vector3;return function(t){let o=i.subVectors(t,this.origin).dot(this.direction);return i.copy(this.direction).multiplyScalar(o).add(this.origin),i.distanceTo(t)}})(),isIntersectionSphere(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane(t){let i=t.normal.dot(this.direction),o=-(this.origin.dot(t.normal)+t.constant)/i;return 0>o?null:o},intersectPlane(t,i){let o=this.distanceToPlane(t);return this.at(o,i)},intersectBox(t,i){let o,e,n,s,a,r,y=1/this.direction.x,c=1/this.direction.y,p=1/this.direction.z,h=this.origin;return 0>y||(o=(t.min.x-h.x)*y,e=(t.max.x-h.x)*y),((n=(t.max.y-h.y)*c)>o||o!=o)&&(o=n),(e>(s=(t.min.y-h.y)*c)||e!=e)&&(e=s),a=(t.max.z-h.z)*p,o>(r=(t.min.z-h.z)*p)||a>e?null:((a>o||o!=o)&&(o=a),(e>r||e!=e)&&(e=r),this.at(0>o?e:o,i))},applyMatrix4(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this}},t.Plane=function(i=new t.Vector3(1,0,0),o=0){this.normal=i,this.constant=o},t.Plane.prototype={constructor:t.Plane,setFromNormalAndCoplanarPoint(t,i){return this.normal.copy(t),this.constant=-i.dot(this.normal),this},distanceToPoint(t){return this.normal.dot(t)+this.constant},orthoPoint(i,o){let e=this.distanceToPoint(i);return(o||new t.Vector3).copy(this.normal).multiplyScalar(e)}};let i=(()=>{let t=[];return{add(i){t.push(i)},update(i,o){if(0!=t.length){for(let e=0;e<t.length;)t[e].update(i)||o?e++:t.splice(e,1);return 1}return 0}}})();i.Easing={Quartic:{Out:t=>1- --t*t*t*t,InOut:t=>1>(t*=2)?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},i.Tween=class{constructor(t){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._repeat=0,this._repeatDelayTime=void 0,this._duration=1e3,this._isPlaying=0,this._reversed=0,this._delayTime=0,this._startTime=null,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=0,this._onUpdateCallback=null,this._onCompleteCallback=null}to(t,i){return this._valuesEnd=t,null!=i&&(this._duration=i),this}start(t){i.add(this),this._isPlaying=1,this._onStartCallbackFired=0,this._startTime=t,this._startTime+=this._delayTime;for(let t in this._valuesEnd)this._valuesStart[t]=this._object[t],this._valuesStart[t]instanceof Array||(this._valuesStart[t]*=1),this._valuesStartRepeat[t]=this._valuesStart[t]||0;return this}easing(t){return this._easingFunction=t,this}chain(...t){return this._chainedTweens=t,this}onUpdate(t){return this._onUpdateCallback=t,this}onComplete(t){return this._onCompleteCallback=t,this}update(t){this._onStartCallbackFired||(this._onStartCallbackFired=1);let i=(t-this._startTime)/this._duration;i=i>1?1:i;let o=this._easingFunction(i);for(let t in this._valuesEnd){let i=this._valuesStart[t]||0,e=this._valuesEnd[t];e instanceof Array||(this._object[t]=i+(e-i)*o)}if(this._onUpdateCallback&&this._onUpdateCallback.call(this._object,o),1==i){this._onCompleteCallback&&this._onCompleteCallback.call(this._object,this._object);for(let t=0,i=this._chainedTweens.length;i>t;t++)this._chainedTweens[t].start(this._startTime+this._duration);return 0}return 1}};let o={extend:(t,i)=>{let o=Object.keys(i);for(let e of o)Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e));return t}};o.extend(Number.prototype,{absolute(){return Math.abs(this)},divide(...t){let i=this;return t.forEach(t=>i/=t),i},modulo(t){return(this%t+t)%t},roundDown(){return Math.floor(this)},subtract(...t){let i=this;return t.forEach(t=>i-=t),i},degToRad(){return.0174532925*this},radToDeg(){return 57.2957795*this}}),o.extend(String.prototype,{capitalize(){return this.charAt(0).toUpperCase()+this.slice(1)},invert(){let t="";for(let i of this)t+=i==i.toUpperCase()?i.toLowerCase():i.toUpperCase();return t}}),t.CSS3DObject=class extends t.Object3D{constructor(t,i){super(),this.done=0,this.element=t,this.name=i}},t.CSS3DRenderer=class{constructor(i,o){let e,n,s,a,r=document.createElement("div");r.style.transformStyle="preserve-3d";let y=document.createElement("div");y.appendChild(r),this.domElement=y;let c=(()=>{let i=new t.Vector3,o=new t.Vector3,e=new t.Euler,n=new t.Quaternion;return e._quaternion=n,n._euler=e,t=>(t.decompose(i,n,o),"translate3d(-50%,-50%,0) translate3d("+i.x+"px,"+i.y+"px,"+i.z+"px) rotateX("+e.x+"rad) rotateY("+e.y+"rad) rotateZ("+e.z+"rad) scale3d("+o.x+","+-o.y+","+o.z+")")})(),p=i=>{if(i instanceof t.CSS3DObject){let t=i.element;t.style.transform=c(i.matrixWorld),t.parentNode!=r&&r.appendChild(t)}for(let t=0,e=i.children.length;e>t;t++)p(i.children[t],o)};this.setSize=(t,i)=>{e=i,n=t/2,s=i/2,r.style.width=y.style.width=t+"px",r.style.height=y.style.height=i+"px"},this.update=()=>{a=.5/Math.tan(o.fov.degToRad()/2)*e,y.style.perspective=a+"px",i.updateMatrixWorld(),o.matrixWorldInverse.getInverse(o.matrixWorld),r.style.transform="translate3d(0,0,"+a+"px) "+(t=>{let i=o.matrixWorldInverse.elements;return"matrix3d("+i[0]+","+-i[1]+","+i[2]+","+i[3]+","+i[4]+","+-i[5]+","+i[6]+","+i[7]+","+i[8]+","+-i[9]+","+i[10]+","+i[11]+","+i[12]+","+-i[13]+","+i[14]+","+i[15]+")"})()+" translate3d("+n+"px,"+s+"px,0)",p(i)}}},o.Color=class{constructor(t,i){this.name=t,this.initial=i}},o.extend(o.Color,{WHITE:new o.Color("white","W"),ORANGE:new o.Color("orange","O"),BLUE:new o.Color("blue","B"),RED:new o.Color("red","R"),GREEN:new o.Color("green","G"),YELLOW:new o.Color("yellow","Y"),COLORLESS:new o.Color("NA","X")}),o.Direction=class{constructor(t,i,o){this.id=t,this.name=i.toLowerCase(),this.normal=o,this.initial=i.substr(0,1).toUpperCase(),this.neighbors=[],this.opposite=null}},o.extend(o.Direction,{FRONT:new o.Direction(0,"front",new t.Vector3(0,0,1)),UP:new o.Direction(1,"up",new t.Vector3(0,1,0)),RIGHT:new o.Direction(2,"right",new t.Vector3(1,0,0)),DOWN:new o.Direction(3,"down",new t.Vector3(0,-1,0)),LEFT:new o.Direction(4,"left",new t.Vector3(-1,0,0)),BACK:new o.Direction(5,"back",new t.Vector3(0,0,-1)),getNameById:t=>["front","up","right","down","left","back"][t],getDirectionByName:t=>o.Direction[t.toLowerCase()],getDirectionByNormal:({x:i,y:e,z:n})=>{let s=new t.Vector3(Math.round(i),Math.round(e),Math.round(n));return s.equals(o.Direction.FRONT.normal)?o.Direction.FRONT:s.equals(o.Direction.BACK.normal)?o.Direction.BACK:s.equals(o.Direction.UP.normal)?o.Direction.UP:s.equals(o.Direction.DOWN.normal)?o.Direction.DOWN:s.equals(o.Direction.LEFT.normal)?o.Direction.LEFT:s.equals(o.Direction.RIGHT.normal)?o.Direction.RIGHT:null}}),o.Queue=class{constructor(t){t&&t instanceof Function&&(this.validate=t),this.history=[],this.useHistory=1,this.future=[],this.isReady=1,this.isLooping=0}add(...t){return this.validate&&this.validate instanceof Function&&(t=this.validate(t)),t instanceof Array&&t.forEach(t=>this.future.push(t)),this.future}purge(...t){return t.forEach(t=>{this.history=this.history.filter(i=>i!=t)}),this.history}empty(){this.future=[]}do(){if(this.future.length){let t=this.future.shift();return this.useHistory&&this.history.push(t),t}}undo(){if(this.history.length){let t=this.history.pop();return this.future.unshift(t),t}}redo(){return this.do()}},o.Twist=class{constructor(t,i){t&&this.set(t,i)}set(t,i){0>i&&(t=t.invert(),i=i.absolute());let e=0,n="unwise";t==t.toUpperCase()?(e=1,n="clockwise"):t==t.toLowerCase()&&(e=-1,n="anticlockwise"),this.command=t,this.degrees=i,this.vector=e,this.wise=n,this.getInverse=()=>new o.Twist(t.invert(),i)}},o.Twist.validate=(...t)=>{let i,e,n,s,a,r,y;for(let c=0;c<t.length;c++)if(i=t[c],e=c+1<t.length?t[c+1]:void 0,i instanceof o.Twist||"string"!=typeof i)i instanceof Array&&(r=t.slice(0,c),y=t.slice(c+1),t=r.concat(i,y),c--);else if(1==i.length)t[c]="number"==typeof e?new o.Twist(i,e):new o.Twist(i);else if(i.length>1){n=/(-?\d+|[XLMRYUEDZFSB])/gi,s=i.match(/(-?\d+|[XLMRYUEDZFSB])/gi);for(let t=0;t<s.length;t++)a=s[t],r=s.slice(0,t),y=s.slice(t+1),a=a.split(""),s=r.concat(a,y);r=t.slice(0,c),y=t.slice(c+1),t=r.concat(s,y),c--}return t},o.Cubelet=class extends t.Object3D{constructor(i,e=0,n){super(),this.cube=i,this.id=e,this.setAddress(this.id),this.size=i.cubeletSize||140;let s=this.addressX*(this.size+0),a=this.addressY*(this.size+0),r=this.addressZ*(this.size+0);this.position.set(s,a,r),this.matrixSlice=(new t.Matrix4).makeTranslation(s,a,r),this.updateMatrix(),this.cube.object3D.add(this);let y=0;this.faces=[];for(let t=0;6>t;t++){let i=n[t]||o.Color.COLORLESS;this.faces[t]={},this.faces[t].id=t,this.faces[t].color=i,this.faces[t].normal=o.Direction.getNameById(t),this.faces[t].isIntrovert=i==o.Color.COLORLESS,i!=o.Color.COLORLESS&&y++}this.type=["core","center","edge","corner"][y],this.front=this.faces[0],this.up=this.faces[1],this.right=this.faces[2],this.down=this.faces[3],this.left=this.faces[4],this.back=this.faces[5],this.colors=(this.faces[0].color?this.faces[0].color.initial:"-")+(this.faces[1].color?this.faces[1].color.initial:"-")+(this.faces[2].color?this.faces[2].color.initial:"-")+(this.faces[3].color?this.faces[3].color.initial:"-")+(this.faces[4].color?this.faces[4].color.initial:"-")+(this.faces[5].color?this.faces[5].color.initial:"-"),this.isTweening=0,this.isEngagedX=0,this.isEngagedY=0,this.isEngagedZ=0}setAddress(t=0){this.address=t,this.addressX=t.modulo(3).subtract(1),this.addressY=-t.modulo(9).divide(3).roundDown().subtract(1),this.addressZ=-t.divide(9).roundDown().subtract(1)}},o.Group=class extends t.EventDispatcher{constructor(...t){super(),this.cubelets=[],this.add(t)}add(...t){return t.forEach(t=>{t instanceof o.Group&&(t=t.cubelets),t instanceof Array?this.add(...t):this.cubelets.push(t)}),this}isFlagged(t){let i=0;return this.cubelets.forEach(o=>{i+=o[t]?1:0}),i}isTweening(){return this.isFlagged("isTweening")}hasType(t){return this.hasProperty("type",t)}},o.Slice=class extends o.Group{constructor(i,e){super(),this.axis=new t.Vector3,this.invertedAxis=new t.Vector3,this.matrix=new t.Matrix4,this.axis.rotation=0,this.indices=i,this.neighbour=null,this.cube=e,this.getCubelet=t=>e.cubelets[i[t]],this.rotateGroupMappingOnAxis=(()=>{let n,s=new t.Vector3,a=new t.Vector3(1,1,1),r=new t.Vector3,y=new t.Vector3,c=new t.Matrix4;return function(t){t=Math.round(t/(.25*Math.PI))*Math.PI*.25,s.copy(a),s.sub(this.axis);let p,h=e.cubelets.slice();c.makeRotationAxis(this.axis,-1*t);for(let t=0,o=i.length;o>t;t++){p=e.cubelets[i[t]],r.set(p.addressX,p.addressY,p.addressZ),y.copy(r),r.multiply(s).applyMatrix4(c),r.x=Math.round(r.x),r.y=Math.round(r.y),r.z=Math.round(r.z),r.add(y.multiply(this.axis)),r.add(a),r.y=2-r.y,r.z=2-r.z;let o=9*r.z+3*r.y+r.x;e.cubelets[p.address]=h[o]}for(let t=0,i=e.cubelets.length;i>t;t++)e.cubelets[t].setAddress(t);c.makeRotationAxis(this.axis,t),this.cubelets.forEach(t=>{n=[],t.faces.forEach(t=>{r.copy(o.Direction.getDirectionByName(t.normal).normal),r.applyMatrix4(c),n[o.Direction.getDirectionByNormal(r).id]=t,t.normal=o.Direction.getDirectionByNormal(r).name}),t.faces=n.slice(),t.front=t.faces[0],t.up=t.faces[1],t.right=t.faces[2],t.down=t.faces[3],t.left=t.faces[4],t.back=t.faces[5]})}})(),this.map()}get origin(){return this.getCubelet(4)}get north(){return this.getCubelet(1)}get northEast(){return this.getCubelet(2)}get east(){return this.getCubelet(5)}get southEast(){return this.getCubelet(8)}get south(){return this.getCubelet(7)}get southWest(){return this.getCubelet(6)}get west(){return this.getCubelet(3)}get northWest(){return this.getCubelet(0)}map(){for(let t=0;6>t;t++)if(this.origin.faces[t].color&&this.origin.faces[t].color!=o.Color.COLORLESS){this.color=this.origin.faces[t].color,this.face=o.Direction.getNameById(t);break}if(null==this.axis||0==this.axis.lengthSq()){let i=this.northEast.position.clone(),o=this.southWest.position.clone(),e=this.northWest.position.clone();this.axis=(new t.Vector3).crossVectors(o.sub(i),e.sub(i)).normalize(),this.axis.rotation=0}this.up=new o.Group(this.northWest,this.north,this.northEast),this.equator=new o.Group(this.west,this.origin,this.east),this.down=new o.Group(this.southWest,this.south,this.southEast),this.left=new o.Group(this.northWest,this.west,this.southWest),this.middle=new o.Group(this.north,this.origin,this.south),this.right=new o.Group(this.northEast,this.east,this.southEast);let i=this.hasType("center");i&&1==i.cubelets.length?(this.center=this.hasType("center"),this.corners=new o.Group(this.hasType("corner")),this.cross=new o.Group(this.center,this.hasType("edge")),this.ex=new o.Group(this.center,this.hasType("corner"))):this.centers=new o.Group(this.hasType("center")),this.edges=new o.Group(this.hasType("edge")),this.ring=new o.Group(this.northWest,this.north,this.northEast,this.west,this.east,this.southWest,this.south,this.southEast),this.dexter=new o.Group(this.northWest,this.origin,this.southEast),this.sinister=new o.Group(this.northEast,this.origin,this.southWest)}set rotation(i){let o;this.matrix.makeRotationAxis(this.axis,i),this.axis.rotation=i;let e=new t.Matrix4;for(let t=0,i=this.indices.length;i>t;t++)(o=this.getCubelet(t)).matrix.multiplyMatrices(this.matrix,o.matrixSlice),o.position.setFromMatrixPosition(o.matrix),o.scale.setFromMatrixScale(o.matrix),e.extractRotation(o.matrix),o.quaternion.setFromRotationMatrix(e)}get rotation(){return this.axis.rotation}hasProperty(t,i){let e=new o.Group,n=this;for(let o=0;6>o;o++)n.getCubelet(o)[t]==i&&e.add(n.getCubelet(o));return e}isSolved({name:t}){let i=this.getCubelet(0)[t].color.name;for(let o=0,e=this.indices.length;e>o;o++)if(i!=this.getCubelet(o)[t].color.name)return 0;return 1}},o.Fold=class{constructor(t,i){this.map=[t.northWest[t.face].text,t.north[t.face].text,t.northEast[t.face].text,i.northWest[i.face].text,i.north[i.face].text,i.northEast[i.face].text,t.west[t.face].text,t.origin[t.face].text,t.east[t.face].text,i.west[i.face].text,i.origin[i.face].text,i.east[i.face].text,t.southWest[t.face].text,t.south[t.face].text,t.southEast[t.face].text,i.southWest[i.face].text,i.south[i.face].text,i.southEast[i.face].text]}},o.Projector=class{constructor({size:i,matrixWorld:o,cubelets:e},n){function s(t,{projectionMatrix:i,matrixWorld:o}){return d.getInverse(i),y.multiplyMatrices(o,d),t.applyProjection(y)}function a(t,i,e){var a;return r=(a=n)!=document?a.getBoundingClientRect():{left:0,top:0,width:innerWidth,height:innerHeight},p.x=(i-r.left)/r.width*2-1,p.y=(e-r.top)/r.height*-2+1,p.z=-1,h.set(p.x,p.y,1),s(p,t),s(h,t),h.sub(p).normalize(),z.set(p,h),c.getInverse(o),z.applyMatrix4(c),z}let r,y=new t.Matrix4,c=new t.Matrix4,p=new t.Vector3,h=new t.Vector3(1,1,1),x=new t.Vector3,z=new t.Ray,l=new t.Box3,u=new t.Sphere,d=new t.Matrix4,m=p.distanceTo(h);l.min.set(-i/2,-i/2,-i/2),l.max.set(i/2,i/2,i/2),u.radius=m*i/2,this.getIntersection=(o,e,n,s=new t.Vector3,r)=>{let y=s;return a(o,e,n),z.isIntersectionSphere(u)&&null!=z.intersectBox(l,y)?(r&&(function(o,e=new t.Vector3){let n=e;n.copy(o).set(Math.round(n.x),Math.round(n.y),Math.round(n.z)).multiplyScalar(2/i).set(0|n.x,0|n.y,0|n.z)}(y,x),r.setFromNormalAndCoplanarPoint(x,y)),y):null},this.getIntersectionOnPlane=(t,i,o,e,n)=>(a(t,i,o),z.intersectPlane(e,n)),this.getCubeletAtIntersection=(()=>{let o=new t.Vector3;return t=>(o.copy(t).add(l.max).multiplyScalar(3/i).set(Math.min(0|o.x,2),Math.min(3-o.y|0,2),Math.min(3-o.z|0,2)),e[9*o.z+3*o.y+o.x])})()}},o.renderers={},o.renderers.CSS3D=(i,e)=>{let n=new t.Object3D,s=new t.CSS3DRenderer(n,e.camera);return n.add(e.object3D),n.add(e.camera),i.forEach(o.renderers.CSS3DCubelet),s},o.renderers.CSS3DCubelet=i=>{let e=document.createElement("div");e.classList.add("cubelet"),i.css3DObject=new t.CSS3DObject(e),i.add(i.css3DObject);let n=i.size/2,s=["rotateX(0deg) translateZ("+n+"px) rotateZ(0deg)","rotateX(90deg) translateZ("+n+"px) rotateZ(0deg)","rotateY(90deg) translateZ("+n+"px) rotateZ(0deg)","rotateX(-90deg) translateZ("+n+"px) rotateZ(90deg)","rotateY(-90deg) translateZ("+n+"px) rotateZ(-90deg)","rotateY(180deg) translateZ("+n+"px) rotateZ(-90deg)"];for(let t of i.faces){t.element=document.createElement("div"),t.element.classList.add("face"),t.element.classList.add("face"+o.Direction.getNameById(t.id).capitalize()),i.css3DObject.element.appendChild(t.element);let e=s[t.id];if(t.element.style.transform=e,t.isIntrovert)t.element.classList.add("faceIntroverted");else{t.element.classList.add("faceExtroverted");let i=document.createElement("div");i.classList.add("sticker"),i.classList.add(t.color.name),t.element.appendChild(i)}}},o.Cube=class extends o.Group{constructor(i){super(),this.undoing=0,this.startTime=Date.now(),this.elapsedTime=0,this.moveCounter=0,this.taskQueue=new o.Queue,this.twistQueue=new o.Queue(o.Twist.validate),this.historyQueue=new o.Queue(o.Twist.validate),this.twistDuration=i.twistDuration||500,this.cubeletSize=i.textureSize||120,this.size=3*this.cubeletSize,this.container=i.container,this.camera=new t.PerspectiveCamera(35,1,1,6e3),this.camera.position.z=4*this.size,this.object3D=new t.Object3D,this.rotation=this.object3D.rotation,this.quaternion=this.object3D.quaternion,this.position=this.object3D.position,this.matrix=this.object3D.matrix,this.matrixWorld=this.object3D.matrixWorld,this.rotation.set(25*Math.PI/180,-30*Math.PI/180,0),this.rotationDelta=new t.Euler(.1*Math.PI/180,.15*Math.PI/180,0),this.cubelets=[];let e=o.Color.WHITE,n=o.Color.ORANGE,s=o.Color.BLUE,a=o.Color.RED,r=o.Color.GREEN,y=o.Color.YELLOW,c=[[e,n,,,r],[e,n,,,,],[e,n,s,,,],[e,,,,r],[e,,,,,],[e,,s,,,],[e,,,a,r],[e,,,a,,],[e,,s,a,,],[,n,,,r],[,n,,,,],[,n,s,,,],[,,,,r],[,,,,,],[,,s,,,],[,,,a,r],[,,,a,,],[,,s,a,,],[,n,,,r,y],[,n,,,,y],[,n,s,,,y],[,,,,r,y],[,,,,,y],[,,s,,,y],[,,,a,r,y],[,,,a,,y],[,,s,a,,y]];for(let t=0,i=c.length;i>t;t++)this.cubelets.push(new o.Cubelet(this,t,c[t]));this.core=new o.Group,this.centers=new o.Group,this.edges=new o.Group,this.corners=new o.Group,this.crosses=new o.Group,this.left=new o.Slice([24,21,18,15,12,9,6,3,0],this),this.left.name="left",this.middle=new o.Slice([25,22,19,16,13,10,7,4,1],this),this.middle.name="middle",this.right=new o.Slice([2,11,20,5,14,23,8,17,26],this),this.right.name="right",this.right.neighbour=this.middle,this.left.neighbour=this.middle,this.up=new o.Slice([18,19,20,9,10,11,0,1,2],this),this.up.name="up",this.equator=new o.Slice([21,22,23,12,13,14,3,4,5],this),this.equator.name="equator",this.down=new o.Slice([8,17,26,7,16,25,6,15,24],this),this.down.name="down",this.down.neighbour=this.equator,this.up.neighbour=this.equator,this.front=new o.Slice([0,1,2,3,4,5,6,7,8],this),this.front.name="front",this.standing=new o.Slice([9,10,11,12,13,14,15,16,17],this),this.standing.name="standing",this.back=new o.Slice([26,23,20,25,22,19,24,21,18],this),this.back.name="back",this.back.neighbour=this.standing,this.front.neighbour=this.standing,this.faces=[this.front,this.up,this.right,this.down,this.left,this.back],this.slices=[this.left,this.middle,this.right,this.down,this.equator,this.up,this.back,this.standing,this.front];let p=[];for(let t=0;27>t;t++)p[t]=t;this.slicesDictionary={f:this.front,s:this.standing,b:this.back,u:this.up,e:this.equator,d:this.down,r:this.right,m:this.middle,l:this.left,x:new o.Slice(p,this),y:new o.Slice(p,this),z:new o.Slice(p,this)},this.slicesDictionary.x.axis.set(-1,0,0),this.slicesDictionary.y.axis.set(0,-1,0),this.slicesDictionary.z.axis.set(0,0,-1);for(let t=0,i=this.cubelets.length;i>t;t++)this.cubelets[t].setAddress(t);this.renderer=o.renderers.CSS3D(this.cubelets,this),this.domElement=this.renderer.domElement,this.domElement.classList.add("cube"),this.domElement.style.fontSize=this.cubeletSize+"px",this.interaction=new o.Interaction(this),this.controls=new o.Locked(this),this.folds=[new o.Fold(this.front,this.right),new o.Fold(this.left,this.up),new o.Fold(this.down,this.back)],this.loop=this.loop.bind(this),addEventListener("keypress",({key:t})=>{"XxRrMmLlYyUuEeDdZzFfSsBb".includes(t)&&this.twist(t)}),addEventListener("resize",this.resetSize.bind(this))}init(){this.container.appendChild(this.domElement),this.resetSize(),this.loop()}isSolved(){return this.up.isSolved(o.Direction.UP)&&this.left.isSolved(o.Direction.LEFT)&&this.right.isSolved(o.Direction.RIGHT)&&this.front.isSolved(o.Direction.FRONT)&&this.back.isSolved(o.Direction.BACK)}undo(){this.twistQueue.history.length>0&&(this.historyQueue.add(this.twistQueue.undo().getInverse()),this.undoing=1)}redo(){this.twistQueue.future.length>0&&(this.undoing=1,this.historyQueue.empty(),this.historyQueue.add(this.twistQueue.redo()))}twist(t){this.undoing&&this.twistQueue.empty(),this.historyQueue.empty(),this.undoing=0,this.twistQueue.add(t)}immediateTwist(t){let o,e=this.slicesDictionary[t.command.toLowerCase()],n=(null==t.degrees?90:t.degrees)*t.vector,s=n.degToRad(),a=Math.abs(s-e.rotation)/Math.PI*2*this.twistDuration;for(let t=0,i=e.indices.length;i>t;t++)e.getCubelet(t).isTweening=1;new i.Tween(e).to({rotation:s},a).easing(i.Easing.Quartic.Out).onComplete(()=>{e.rotation=s,e.axis.rotation=0;for(let t=0,i=e.indices.length;i>t;t++)(o=e.getCubelet(t)).isTweening=0,o.updateMatrix(),o.matrixSlice.copy(o.matrix);n&&(e.rotateGroupMappingOnAxis(s),this.dispatchEvent(new CustomEvent("onTwistComplete",{detail:{slice:e,twist:t}})))}).start(this.elapsedTime)}resetSize(){let t=this.container,i=t.clientWidth,o=t.clientHeight;this.renderer.setSize(i,o),this.camera.aspect=i/o,this.camera.updateProjectionMatrix()}setDarkMode(){this.domElement.classList.add("dark-mode")}setLightMode(){this.domElement.classList.remove("dark-mode")}undoAll(){this.twistDuration=0;for(let t=0,i=this.twistQueue.history.length;i>t;t++)this.undo()}loop(){if(requestAnimationFrame(this.loop),this.elapsedTime=Date.now()-this.startTime,i.update(this.elapsedTime),this.renderer.update(),!this.isTweening()){this.interaction.update(),this.controls.update();let t=this.undoing?this.historyQueue:this.twistQueue;if(0!=t.future.length){let i=t.do(),o=i.command.toLowerCase();"x"!=o&&"y"!=o&&"z"!=o&&(this.moveCounter+=this.undoing?-1:1),0==i.degrees&&t.purge(i),this.immediateTwist(i)}}}},o.Interaction=class extends t.EventDispatcher{constructor(i,e=1){function n(t){let o=t.touches?t.touches[0]:t;x=o.pageX,z=o.pageY,w.getIntersection(d,x,z,f,v)&&(t.stopImmediatePropagation(),i.isTweening()||(u=Date.now(),r=w.getCubeletAtIntersection(f),y=[i.slices[r.addressX+1],i.slices[r.addressY+4],i.slices[r.addressZ+7]],m.addEventListener("mousemove",s),m.addEventListener("touchmove",s,{passive:0})))}function s(t){t.preventDefault();let i=t.touches?t.touches[0]:t;p=i.pageX,h=i.pageY}function a(){if(m.removeEventListener("mousemove",s),m.removeEventListener("touchmove",s),g){let t=c.name[0].toUpperCase(),e=Math.round(l/Math.PI/2*4)*Math.PI/2;M.length()/(Date.now()-u)>.8&&(e=Math.floor(l/Math.PI/2*4)*Math.PI/2,e+=D.dot(M.normalize())>0?Math.PI/2:0),i.twist(new o.Twist(t,e.radToDeg()))}u=0,p=h=0,g=0,c=null}super(),this.dragMultiple=e;let r,y,c,p,h,x,z,l,u,{camera:d,domElement:m}=i,w=new o.Projector(i,m),g=0,f=new t.Vector3,b=new t.Vector3,v=new t.Plane,M=new t.Vector3,D=new t.Vector3,E=new t.Vector3;m.addEventListener("mousedown",n),m.addEventListener("touchstart",n,{passive:0}),m.addEventListener("mouseup",a),m.addEventListener("touchend",a),m.addEventListener("touchcancel",a),this.update=()=>{p&&h&&(w.getIntersectionOnPlane(d,p,h,v,b),M.subVectors(b,f),!g&&M.length()>5&&(c&&(c.rotation=0),g=1,E.crossVectors(v.normal,M),function(t){let i=Math.max(Math.abs(t.x),Math.abs(t.y),Math.abs(t.z));t.x=t.x/i|0,t.y=1==t.x?0:t.y/i|0,t.z=1==t.x||1==t.y?0:t.z/i|0}(E),c=y[Math.abs(3*E.z+2*E.y+E.x)-1],D.crossVectors(c.axis,v.normal).normalize()),g&&(M.subVectors(b,f),l=D.dot(M)/i.size*this.dragMultiple),c&&(c.rotation=l))}}},o.Locked=class{constructor(i,e=1){function n(t){t.preventDefault();let o=t.touches?t.touches[0]:t,e=o.pageX,n=o.pageY;if(!m.getIntersection(u,e,n)){let t=(e-(z=(a=d)!=document?a.getBoundingClientRect():{left:0,top:0,width:innerWidth,height:innerHeight}).left)*v,o=(n-z.top)*v;m.getIntersection(u,t,o)||i.isTweening()||(x=Date.now(),c=r=t,p=y=o,d.addEventListener("mousemove",s),d.addEventListener("touchmove",s,{passive:0}))}var a}function s(t){t.preventDefault();let i=t.touches?t.touches[0]:t;r=(i.pageX-z.left)*v,y=(i.pageY-z.top)*v}function a(){if(d.removeEventListener("mousemove",s),d.removeEventListener("touchmove",s,{passive:0}),M){let t,e,n;h==i.slicesDictionary.x?t="x":h==i.slicesDictionary.y?t="y":h==i.slicesDictionary.z&&(t="z"),n=-Math.round(h.rotation/Math.PI*2)*Math.PI/2,(e=g.length()/(Date.now()-x))>.8&&("z"==t&&b.negate(),n=Math.round(b.dot(g.normalize()))*Math.PI/2*l),i.twist(new o.Twist(t,n.radToDeg()))}h=null,M=0,g.set(0,0,0),r=y=0,c=p=0,x=0}this.dragMultiple=e;let r,y,c,p,h,x,z,l,{camera:u,domElement:d}=i,m=new o.Projector(i,d),w=new t.Vector3,g=new t.Vector3,f=new t.Matrix4,b=new t.Vector3,v=window.devicePixelRatio,M=0,D=(new t.Matrix4).makeRotationFromEuler(new t.Euler(18..degToRad(),-45..degToRad(),0)),E=new t.Vector3,_=new t.Matrix4,C=new t.Plane,T=new t.Vector3;d.addEventListener("mousedown",n),d.addEventListener("touchstart",n,{passive:0}),d.addEventListener("mouseup",a),d.addEventListener("touchend",a),d.addEventListener("touchcancel",a),this.update=()=>{if(g.x=r-c,g.y=y-p,!M&&g.length()>30){if(M=1,l=1,b.copy(g),b.normalize(),b.x=Math.round(b.x),b.y=Math.round(b.y)*(1-Math.abs(b.x)),b.x=Math.abs(b.x),b.y=Math.abs(b.y),b.z=Math.abs(b.z),w.set(-b.y,b.x,0),w.normalize(),w.x=Math.round(w.x),w.y=Math.round(w.y)*(1-Math.abs(w.x)),w.negate(),!w.y){let t=function(t,o,e){let n,s;i.object3D.updateMatrixWorld(),_.getInverse(i.matrixWorld);for(let a=t.length;a--;)T.set(-o,e,0),C.normal.copy(t[a].axis),C.normal.x=Math.abs(C.normal.x),C.normal.y=Math.abs(C.normal.y),C.normal.z=Math.abs(C.normal.z),C.constant=i.size/2,C.normal.transformDirection(D),C.orthoPoint(T,E),s&&E.z>s||(s=E.z,n=t[a]);return n}([i.front,i.right],r-z.width*v/2,y-z.width*v/2);w.copy(t.axis),f.getInverse(i.matrixWorld),w.transformDirection(D),w.transformDirection(f),l=-(Math.round(w.x)||Math.round(w.y)||Math.round(w.z))}1==Math.abs(Math.round(w.x))?h=i.slicesDictionary.z:1==Math.abs(Math.round(w.y))?h=i.slicesDictionary.y:1==Math.abs(Math.round(w.z))&&(h=i.slicesDictionary.x)}else if(M){let t=-b.dot(g)/i.size*l;h==i.slicesDictionary.z&&(t*=-1),h.rotation=t*this.dragMultiple}}}};class e extends t.Object3D{constructor(i,o){super(),this.cube=i,this.name=o,this.cube.object3D.add(this);let e=document.createElement("div");e.id=o,this.domElement=e,this.css3DObject=new t.CSS3DObject(e,"css3DObject-"+o),this.add(this.css3DObject)}}class n extends e{constructor(t,i,o){super(t,i),this.text=o,this.opacity=1,this.domElement.innerText=o}}class s extends n{constructor(t,i,o,e=50,n=180){super(t,i,o),this.min=e,this.max=n,requestAnimationFrame(this.resize.bind(this))}resize(){this.css3DObject.element.style.fontSize=Math.min(this.max,Math.max(this.min,this.css3DObject.element.clientWidth/this.text.length*1.3))+"px"}}class a{constructor(t,i=600){this.cube=t,this.tweenSpeed=i,this.isVerticalScreen=window.innerHeight>window.innerWidth,this.frames=this.isVerticalScreen?a.framesData.vertical:a.framesData.horizontal,this.allObjects=[...t.cubelets],this.setupTextBoxes(),this.preparePlayBack()}start(){this.beforeAnimate(),this.animateCubeBack(this.playFrames.bind(this))}setupTextBoxes(){let t=this.cube,i=(t,i=2)=>("00000"+t).substr(-i,i),o=new s(t,"certName","CUBE"),e=new s(t,"certSolved","SOLVED"),a=new n(t,"certMovesNumber",i(t.moveCounter,4)),r=new n(t,"certMovesHeader","MOVES"),y=new n(t,"certDate",(new Date).toLocaleDateString()),c=i(Math.round(t.elapsedTime/1e3/60)),p=i(Math.round(t.elapsedTime/1e3%60)),h=[o,e,a,r,y,new n(t,"certTimeNumber",c+":"+p),new n(t,"certTimeHeader","TIME"),new n(t,"certLarryName","Lawrence Page"),new n(t,"certErnoName","Erno Rubik")];h.forEach(t=>t.opacity=t.css3DObject.element.style.opacity=0),this.allObjects.push(...h)}preparePlayBack(){this.allObjects.forEach(t=>t.frames=[]);for(let t of this.frames)for(let i=0,o=t.length;o>i;i++){let o=t[i],e=this.allObjects[i],n={x:o.position.x,y:o.position.y,z:o.position.z,xr:o.rotation.x,yr:o.rotation.y,zr:o.rotation.z,opacity:o.opacity};e.frames.push(n)}this.allObjects.forEach(t=>{t.tweens=[];for(let o=0,e=t.frames.length-1;e>o;o++){let e=t.frames[o],n=t.frames[o+1],s=new i.Tween(e).to({x:n.x,y:n.y,z:n.z,xr:n.xr,yr:n.yr,zr:n.zr,opacity:n.opacity},this.tweenSpeed).easing(i.Easing.Quartic.Out).onUpdate(()=>{if(t.css3DObject.position.x=e.x,t.css3DObject.position.y=e.y,t.css3DObject.position.z=e.z,t.rotation.x=e.xr,t.rotation.y=e.yr,t.rotation.z=e.zr,t.css3DObject.element)t.css3DObject.element.style.opacity=e.opacity;else for(let i of t.faces)i.element.style.opacity=e.opacity;t.opacity=e.opacity});t.tweens.push(s)}for(let i=0,o=t.tweens.length-1;o>i;i++)t.tweens[i].chain(t.tweens[i+1])})}beforeAnimate(){let t=this.cube;t.interaction.update=t.controls.update=()=>{},t.cubelets.forEach(({css3DObject:t,position:i})=>{t.position.copy(i),i.set(0,0,0)}),t.shadow.domElement.style.opacity="0";let i=t.cubelets[13],o=(t,i)=>{t.element.classList.remove("faceIntroverted"),t.element.innerHTML=`<div class="sticker ${i}"></div>`};o(i.right,"red"),o(i.down,"blue")}animateCubeBack(t){let o=this.cube,e={camZ:o.camera.position.z,fov:o.camera.fov,x:o.position.x,y:o.position.y,z:o.position.z,xRot:o.rotation.x,yRot:o.rotation.y,zRot:o.rotation.z};new i.Tween(e).to({camZ:2800,fov:49,x:0,y:0,z:0,xRot:90..degToRad(),yRot:0,zRot:135..degToRad(),bgOpacity:0},1e3).onUpdate(()=>{o.camera.position.z=e.camZ,o.camera.fov=e.fov,o.position.set(e.x,e.y,e.z),o.rotation.set(e.xRot,e.yRot,e.zRot)}).easing(i.Easing.Quartic.InOut).onComplete(t).start(o.elapsedTime)}playFrames(){this.allObjects.forEach(({tweens:t})=>t[0].start(this.cube.elapsedTime))}}a.framesData={horizontal:[[{position:{x:-120.1,y:120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0}],[{position:{x:-120.1,y:120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:-900},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-700,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0}],[{position:{x:-120.1,y:2200,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:1600},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:750,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-120.1,z:600},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-120.1,z:600},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-120.1,z:600},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-500,y:120.1,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-4e3,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:-1200,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:120.1,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:2200,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:1100,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:-400},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:-800},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-1100,y:0,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:-900},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-140,y:-900,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-900,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-700,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:1100,z:-3e3},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:0,y:-250,z:900},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:-400,y:25,z:-550},rotation:{x:-1.57,y:3.14,z:0},opacity:0},{position:{x:-450,y:150,z:-450},rotation:{x:-1.57,y:3.14,z:0},opacity:0},{position:{x:0,y:800,z:300},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:420,y:25,z:-550},rotation:{x:-1.57,y:1.57,z:0},opacity:0},{position:{x:450,y:150,z:-450},rotation:{x:-1.57,y:1.57,z:0},opacity:0},{position:{x:-1050,y:-1900,z:-2200},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:1050,y:-1900,z:-2200},rotation:{x:-1.57,y:2.36,z:0},opacity:0}],[{position:{x:-120.1,y:2200,z:1600},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:1600},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:1400},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:750,z:-30},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-300,y:-800,z:600},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-800,z:600},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:300,y:-800,z:600},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-500,y:-2e3,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-4e3,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:-1500,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-600,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:2200,z:-1600},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-900,y:1100,z:-100},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:1e3,y:120.1,z:-400},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:-800},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-1100,y:900,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:1e3,y:0,z:-900},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-140,y:-900,z:-500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-900,z:-500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-700,z:-120.1},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:1100,z:-3e3},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:0,y:-250,z:900},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:-400,y:25,z:-550},rotation:{x:-1.57,y:3.14,z:0},opacity:0},{position:{x:-450,y:150,z:-450},rotation:{x:-1.57,y:3.14,z:0},opacity:0},{position:{x:0,y:800,z:300},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:420,y:25,z:-550},rotation:{x:-1.57,y:1.57,z:0},opacity:0},{position:{x:450,y:150,z:-450},rotation:{x:-1.57,y:1.57,z:0},opacity:0},{position:{x:-1050,y:-1900,z:-2200},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:1050,y:-1900,z:-2200},rotation:{x:-1.57,y:2.36,z:0},opacity:0}],[{position:{x:-120.1,y:2200,z:1600},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:500,y:-2e3,z:1700},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:1500,y:-2e3,z:1700},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:-120.1,y:-2200,z:1600},rotation:{x:0,y:0,z:3.14},opacity:1},{position:{x:0,y:0,z:1400},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-600,y:750,z:-30},rotation:{x:0,y:0,z:-1.57},opacity:1},{position:{x:-300,y:-800,z:600},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-800,z:600},rotation:{x:0,y:0,z:.79},opacity:1},{position:{x:300,y:-800,z:600},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:-500,y:-2e3,z:1700},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:-1500,y:-2e3,z:1700},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:-600,y:30,z:-30},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-600,y:-800,z:-30},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-4e3,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-600,y:-20,z:-30},rotation:{x:0,y:0,z:-1.57},opacity:1},{position:{x:-120.1,y:2200,z:-1600},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:-900,y:1100,z:-100},rotation:{x:-1.57,y:0,z:0},opacity:1},{position:{x:1e3,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-140,y:-2200,z:-1600},rotation:{x:0,y:0,z:3.14},opacity:1},{position:{x:-1100,y:900,z:-100},rotation:{x:0,y:-1.57,z:0},opacity:1},{position:{x:2e3,y:0,z:-900},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:-900,z:-500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-900,z:-500},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:700,y:-700,z:-50},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:300,z:800},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:0,y:-280,z:800},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:-400,y:25,z:-550},rotation:{x:-1.57,y:3.14,z:0},opacity:0},{position:{x:-450,y:150,z:-450},rotation:{x:-1.57,y:3.14,z:0},opacity:0},{position:{x:0,y:780,z:250},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:420,y:25,z:-550},rotation:{x:-1.57,y:1.57,z:0},opacity:0},{position:{x:450,y:150,z:-450},rotation:{x:-1.57,y:1.57,z:0},opacity:0},{position:{x:-1050,y:-1900,z:-2200},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:1050,y:-1900,z:-2200},rotation:{x:-1.57,y:2.36,z:0},opacity:0}],[{position:{x:-120.1,y:3200,z:2e3},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:700,y:-2e3,z:1700},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:1700,y:-2e3,z:1700},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:-120.1,y:-3200,z:2e3},rotation:{x:0,y:0,z:3.14},opacity:1},{position:{x:0,y:0,z:1400},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-250,y:1e3,z:-30},rotation:{x:0,y:0,z:-1.57},opacity:1},{position:{x:0,y:-1150,z:500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-1100,z:600},rotation:{x:0,y:0,z:.79},opacity:1},{position:{x:0,y:-1150,z:500},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:-700,y:-2e3,z:1700},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:-1700,y:-2e3,z:1700},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:-250,y:-200,z:-30},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:700,y:-700,z:-20},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-250,y:-1e3,z:-30},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-4e3,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-250,y:200,z:-30},rotation:{x:0,y:0,z:-1.57},opacity:1},{position:{x:-120.1,y:3200,z:-2e3},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:-900,y:1300,z:-100},rotation:{x:-1.57,y:0,z:0},opacity:1},{position:{x:1300,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-140,y:-3200,z:-2e3},rotation:{x:0,y:0,z:3.14},opacity:1},{position:{x:-1300,y:900,z:-100},rotation:{x:0,y:-1.57,z:0},opacity:1},{position:{x:2e3,y:0,z:-900},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:-1150,z:-550},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-1150,z:-550},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:700,y:-700,z:-50},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:350,z:1150},rotation:{x:-1.57,y:2.36,z:0},opacity:1},{position:{x:0,y:-250,z:1150},rotation:{x:-1.57,y:2.36,z:0},opacity:1},{position:{x:-600,y:25,z:-250},rotation:{x:-1.57,y:3.14,z:0},opacity:1},{position:{x:-500,y:200,z:-450},rotation:{x:-1.57,y:3.14,z:0},opacity:1},{position:{x:0,y:1300,z:-500},rotation:{x:-1.57,y:2.36,z:0},opacity:1},{position:{x:600,y:25,z:-250},rotation:{x:-1.57,y:1.57,z:0},opacity:1},{position:{x:500,y:200,z:-450},rotation:{x:-1.57,y:1.57,z:0},opacity:1},{position:{x:-1250,y:-1900,z:-2200},rotation:{x:-1.57,y:2.36,z:0},opacity:1},{position:{x:1250,y:-1900,z:-2200},rotation:{x:-1.57,y:2.36,z:0},opacity:1}]],vertical:[[{position:{x:-120.1,y:120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0}],[{position:{x:-120.1,y:120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-120.1,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:-120},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-700,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0}],[{position:{x:-120.1,y:1e3,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:1250},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:750,z:120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-120.1,z:500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-120.1,z:500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-120.1,z:500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-500,y:120.1,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-4e3,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-1500,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:2200,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:1100,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:-400},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:-800},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-1600,y:0,z:500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:-900},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-140,y:-600,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:300,y:-600,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-700,z:-120.1},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:1100,z:-3e3},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:0,y:-250,z:900},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:-400,y:25,z:-550},rotation:{x:-1.57,y:3.14,z:0},opacity:0},{position:{x:-450,y:150,z:-450},rotation:{x:-1.57,y:3.14,z:0},opacity:0},{position:{x:0,y:800,z:300},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:420,y:25,z:-550},rotation:{x:-1.57,y:1.57,z:0},opacity:0},{position:{x:450,y:150,z:-450},rotation:{x:-1.57,y:1.57,z:0},opacity:0},{position:{x:-1050,y:-1900,z:-2200},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:1050,y:-1900,z:-2200},rotation:{x:-1.57,y:2.36,z:0},opacity:0}],[{position:{x:-120.1,y:1e3,z:1250},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:1250},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:1400},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:750,z:-30},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-300,y:-600,z:500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-600,z:500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:300,y:-600,z:500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-500,y:-2e3,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:120.1,z:1700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-4e3,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-1500,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-600,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:2200,z:-1600},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-1650,y:1600,z:500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:1300,y:120.1,z:-400},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:-2200,z:-800},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-1600,y:1650,z:500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:2e3,y:0,z:-900},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-300,y:-600,z:-700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:300,y:-600,z:-700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:120.1,y:-700,z:-120.1},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:1100,z:-3e3},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:0,y:-250,z:900},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:-400,y:25,z:-550},rotation:{x:-1.57,y:3.14,z:0},opacity:0},{position:{x:-450,y:150,z:-450},rotation:{x:-1.57,y:3.14,z:0},opacity:0},{position:{x:0,y:800,z:300},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:420,y:25,z:-550},rotation:{x:-1.57,y:1.57,z:0},opacity:0},{position:{x:450,y:150,z:-450},rotation:{x:-1.57,y:1.57,z:0},opacity:0},{position:{x:-1050,y:-1900,z:-2200},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:1050,y:-1900,z:-2200},rotation:{x:-1.57,y:2.36,z:0},opacity:0}],[{position:{x:-200,y:1e3,z:1250},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:500,y:-2e3,z:1700},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:1500,y:-2e3,z:1700},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:-200,y:-1e3,z:1250},rotation:{x:0,y:0,z:3.14},opacity:1},{position:{x:0,y:0,z:1400},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-1200,y:150,z:-100},rotation:{x:0,y:0,z:-1.57},opacity:1},{position:{x:-300,y:-600,z:500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-600,z:500},rotation:{x:0,y:0,z:.79},opacity:1},{position:{x:300,y:-600,z:500},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:-500,y:-2e3,z:1700},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:-1500,y:-2e3,z:1700},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:-1200,y:640,z:-100},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-1200,y:-170,z:-100},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-4e3,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-1200,y:-620,z:-100},rotation:{x:0,y:0,z:-1.57},opacity:1},{position:{x:-120.1,y:2200,z:-1600},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:-1650,y:1600,z:500},rotation:{x:-1.57,y:0,z:0},opacity:1},{position:{x:1300,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-140,y:-2200,z:-1600},rotation:{x:0,y:0,z:3.14},opacity:1},{position:{x:-1600,y:1650,z:500},rotation:{x:0,y:-1.57,z:0},opacity:1},{position:{x:2e3,y:0,z:-900},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-300,y:-600,z:-700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:300,y:-600,z:-700},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:700,y:-700,z:-50},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:400,z:640},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:0,y:-250,z:640},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:240,y:100,z:-1200},rotation:{x:-1.57,y:3.14,z:0},opacity:0},{position:{x:250,y:250,z:-1200},rotation:{x:-1.57,y:3.14,z:0},opacity:0},{position:{x:0,y:980,z:0},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:-230,y:100,z:-1200},rotation:{x:-1.57,y:1.57,z:0},opacity:0},{position:{x:-250,y:250,z:-1200},rotation:{x:-1.57,y:1.57,z:0},opacity:0},{position:{x:-1050,y:-1900,z:-2200},rotation:{x:-1.57,y:2.36,z:0},opacity:0},{position:{x:1050,y:-1900,z:-2200},rotation:{x:-1.57,y:2.36,z:0},opacity:0}],[{position:{x:-200,y:1300,z:1350},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:400,y:-2500,z:1600},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:1400,y:-2500,z:1600},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:-200,y:-1300,z:1350},rotation:{x:0,y:0,z:3.14},opacity:1},{position:{x:0,y:0,z:1400},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-1200,y:170,z:-200},rotation:{x:0,y:0,z:-1.57},opacity:1},{position:{x:-300,y:-600,z:500},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:0,y:-600,z:500},rotation:{x:0,y:0,z:.79},opacity:1},{position:{x:300,y:-600,z:500},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:-400,y:-2500,z:1600},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:-1400,y:-2500,z:1600},rotation:{x:0,y:0,z:3.93},opacity:1},{position:{x:-1200,y:640,z:-200},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-120.1,y:0,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:700,y:-700,z:-90},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-1200,y:-170,z:-200},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:-4e3,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:-120.1,z:0},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-1200,y:-620,z:-200},rotation:{x:0,y:0,z:-1.57},opacity:1},{position:{x:-120.1,y:1300,z:-1350},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:-1900,y:1550,z:800},rotation:{x:-1.57,y:0,z:0},opacity:1},{position:{x:1300,y:120.1,z:-120.1},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-140,y:-1300,z:-1350},rotation:{x:0,y:0,z:3.14},opacity:1},{position:{x:-1550,y:1900,z:800},rotation:{x:0,y:-1.57,z:0},opacity:1},{position:{x:2e3,y:0,z:-900},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:-300,y:-600,z:-700},rotation:{x:0,y:0,z:0},opacity:1},{position:{x:300,y:-600,z:-700},rotation:{x:0,y:0,z:1.57},opacity:1},{position:{x:700,y:-700,z:-50},rotation:{x:0,y:0,z:0},opacity:0},{position:{x:0,y:400,z:640},rotation:{x:-1.57,y:2.36,z:0},opacity:1},{position:{x:0,y:-200,z:640},rotation:{x:-1.57,y:2.36,z:0},opacity:1},{position:{x:230,y:200,z:-1200},rotation:{x:-1.57,y:3.14,z:0},opacity:1},{position:{x:230,y:350,z:-1200},rotation:{x:-1.57,y:3.14,z:0},opacity:1},{position:{x:0,y:1e3,z:-300},rotation:{x:-1.57,y:2.36,z:0},opacity:1},{position:{x:-230,y:200,z:-1200},rotation:{x:-1.57,y:1.57,z:0},opacity:1},{position:{x:-250,y:350,z:-1200},rotation:{x:-1.57,y:1.57,z:0},opacity:1},{position:{x:-950,y:-1800,z:-2800},rotation:{x:-1.57,y:2.36,z:0},opacity:1},{position:{x:950,y:-1800,z:-2800},rotation:{x:-1.57,y:2.36,z:0},opacity:1}]]};let r=new o.Cube({container:document.querySelector("#container")});r.object3D.lookAt(r.camera.position),r.rotation.x+=18..degToRad(),r.rotation.y+=-45..degToRad(),r.position.set(0,410,-850),r.camera.position.z=2e3,r.camera.fov=30,r.shadow=new e(r,"shadow"),r.shadow.rotation.x=90..degToRad(),r.shadow.position.y=-300,r.startInteractive=()=>{r.twistDuration=500,r.moveCounter=0,r.addEventListener("onTwistComplete",()=>{if(r.undoing&&r.moveCounter++,r.isSolved()){let t=new a(r);setTimeout(t.start.bind(t),1e3)}})},r.scramble=()=>{new i.Tween(r.position).to({x:0,y:0,z:0},4e3).easing(i.Easing.Quartic.InOut).start(r.elapsedTime),new i.Tween(r.rotation).to({x:25..degToRad(),y:45..degToRad(),z:0},4e3).easing(i.Easing.Quartic.InOut).onComplete(r.startInteractive).start(r.elapsedTime);let t="";for(let i=0;35>i;i++)t+="fblrud"[Math.floor(6*Math.random())];r.twistDuration=100,r.twist(t)},window.cube=r,document.body.insertAdjacentHTML("beforeend","<style>.cube #shadow,.cube .cubelet,.cube .face{width:1em;height:1em}.cube #shadow,.cube .face,.cube .face.faceIntroverted,.cube.dark-mode{background:#000}#certErnoName,#certLarryName,#certMovesNumber,#certTimeNumber{position:absolute;width:750pt;text-align:center;line-height:1em}*,:after,:before{box-sizing:border-box;margin:0;padding:0}body{overflow:hidden;height:100vh;background:#fff}#container{width:100%;height:100%}.cube{user-select:none}.cube .cubelet{position:absolute;transform-style:preserve-3d}.cube .face{position:absolute;padding:.05em;backface-visibility:hidden}.cube.dark-mode #shadow,.cube.dark-mode .face.faceIntroverted{display:none}.cube .sticker{width:100%;height:100%;border-radius:.1em}.cube .sticker.red{background:#dc422f}.cube .sticker.white{background:#fff}.cube.dark-mode .sticker.white{background:#ddd}.cube .sticker.blue{background:#3d81f6}.cube .sticker.green{background:#009d54}.cube .sticker.orange{background:#e87000}.cube .sticker.yellow{background:#f5b400}.cube #shadow{position:absolute;box-shadow:0 0 75pt 5pc #000;opacity:.1;transition:opacity 1s}#certName,#certSolved{width:825pt;color:#dc422f;font-size:180px;line-height:.97em}#certDate,#certName,#certSolved{position:absolute;padding:20px;text-align:center}#certDate{width:750pt;color:#000;text-transform:uppercase;font-size:110px;line-height:.8em}#certMovesHeader,#certTimeHeader{position:absolute;padding:20px;width:750pt;color:#000;text-align:center;font-size:90px;line-height:.8em}.cube.dark-mode #certDate,.cube.dark-mode #certMovesHeader,.cube.dark-mode #certTimeHeader{color:#bbb}#certMovesNumber,#certTimeNumber{padding:20px;color:#3d81f6;font-size:180px}#certErnoName,#certLarryName{margin-top:30px;padding:30px;border-top:15px solid #000;color:#ff6c00;font-size:85px}</style>"),r.init(),setTimeout(r.scramble,700)})()